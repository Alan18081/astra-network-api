exports.id = "main";
exports.modules = {

/***/ "./src/components/auth/auth.controller.ts":
/*!************************************************!*\
  !*** ./src/components/auth/auth.controller.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst common_1 = __webpack_require__(/*! @nestjs/common */ \"@nestjs/common\");\nconst swagger_1 = __webpack_require__(/*! @nestjs/swagger */ \"@nestjs/swagger\");\nconst login_dto_1 = __webpack_require__(/*! ./dto/login.dto */ \"./src/components/auth/dto/login.dto.ts\");\nconst users_service_1 = __webpack_require__(/*! ../users/services/users.service */ \"./src/components/users/services/users.service.ts\");\nconst messages_enum_1 = __webpack_require__(/*! ../../helpers/enums/messages.enum */ \"./src/helpers/enums/messages.enum.ts\");\nconst auth_service_1 = __webpack_require__(/*! ./auth.service */ \"./src/components/auth/auth.service.ts\");\nconst hash_service_1 = __webpack_require__(/*! ../core/services/hash.service */ \"./src/components/core/services/hash.service.ts\");\nconst exchangeToken_dto_1 = __webpack_require__(/*! ./dto/exchangeToken.dto */ \"./src/components/auth/dto/exchangeToken.dto.ts\");\nconst passport_1 = __webpack_require__(/*! @nestjs/passport */ \"@nestjs/passport\");\nconst user_decorator_1 = __webpack_require__(/*! ../../helpers/decorators/user.decorator */ \"./src/helpers/decorators/user.decorator.ts\");\nconst user_entity_1 = __webpack_require__(/*! ../users/user.entity */ \"./src/components/users/user.entity.ts\");\nconst change_password_dto_1 = __webpack_require__(/*! ./dto/change-password.dto */ \"./src/components/auth/dto/change-password.dto.ts\");\nconst reset_password_dto_1 = __webpack_require__(/*! ./dto/reset-password.dto */ \"./src/components/auth/dto/reset-password.dto.ts\");\nlet AuthController = class AuthController {\n    constructor(usersService, hashService, authService) {\n        this.usersService = usersService;\n        this.hashService = hashService;\n        this.authService = authService;\n    }\n    login(payload) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const user = yield this.usersService.findOneByEmail(payload.email, true);\n            if (!user) {\n                throw new common_1.UnauthorizedException(messages_enum_1.Messages.USER_NOT_FOUND);\n            }\n            const isValidPassword = yield this.hashService.compareHash(payload.password, user.password);\n            if (!isValidPassword) {\n                throw new common_1.UnauthorizedException(messages_enum_1.Messages.INVALID_PASSWORD);\n            }\n            return yield this.authService.singIn(user);\n        });\n    }\n    exchangeToken(payload) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.authService.exchangeToken(payload.refreshToken);\n        });\n    }\n    googleLogin() { }\n    googleLoginCallback(user, res) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (user) {\n                res.redirect(`/auth/google/success?userId=${user.id}`);\n            }\n            else {\n                res.redirect('/auth/google/fail');\n            }\n        });\n    }\n    googleSuccess(userId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const user = yield this.usersService.findOne(+userId);\n            if (user) {\n                return yield this.authService.singIn(user);\n            }\n        });\n    }\n    googleFail() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new common_1.UnauthorizedException(messages_enum_1.Messages.FAILED_GOOGLE_AUTH);\n        });\n    }\n    changePassword(user, payload) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const isValid = yield this.hashService.compareHash(payload.oldPassword, user.password);\n            if (!isValid) {\n                throw new common_1.BadRequestException(messages_enum_1.Messages.INVALID_PASSWORD);\n            }\n            const newPassword = yield this.hashService.generateHash(payload.newPassword);\n            yield this.usersService.updateOne(user.id, { password: newPassword });\n        });\n    }\n    verifyEmail(user) {\n        return __awaiter(this, void 0, void 0, function* () {\n        });\n    }\n    resetPassword(body) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const user = yield this.usersService.findOneByEmail(body.email);\n            if (!user) {\n                throw new common_1.NotFoundException(messages_enum_1.Messages.USER_NOT_FOUND);\n            }\n            yield this.authService.resetPassword(user);\n        });\n    }\n};\n__decorate([\n    common_1.Post('login'),\n    swagger_1.ApiOperation({ title: 'Login for generating access token' }),\n    __param(0, common_1.Body()),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [login_dto_1.LoginDto]),\n    __metadata(\"design:returntype\", Promise)\n], AuthController.prototype, \"login\", null);\n__decorate([\n    common_1.Post('token'),\n    swagger_1.ApiOperation({ title: 'Exchange refresh token for new access token' }),\n    __param(0, common_1.Body()),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [exchangeToken_dto_1.ExchangeTokenDto]),\n    __metadata(\"design:returntype\", Promise)\n], AuthController.prototype, \"exchangeToken\", null);\n__decorate([\n    common_1.Get('google'),\n    common_1.UseGuards(passport_1.AuthGuard('google')),\n    swagger_1.ApiOperation({ title: 'Login via google' }),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", []),\n    __metadata(\"design:returntype\", void 0)\n], AuthController.prototype, \"googleLogin\", null);\n__decorate([\n    common_1.Get('google/callback'),\n    common_1.UseGuards(passport_1.AuthGuard('google')),\n    swagger_1.ApiOperation({ title: 'Callback for google authentication' }),\n    __param(0, user_decorator_1.ReqUser()), __param(1, common_1.Res()),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [Object, Object]),\n    __metadata(\"design:returntype\", Promise)\n], AuthController.prototype, \"googleLoginCallback\", null);\n__decorate([\n    common_1.Get('google/success'),\n    swagger_1.ApiOperation({ title: 'Google success authentication' }),\n    __param(0, common_1.Query('userId')),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [Object]),\n    __metadata(\"design:returntype\", Promise)\n], AuthController.prototype, \"googleSuccess\", null);\n__decorate([\n    common_1.Get('google/fail'),\n    swagger_1.ApiOperation({ title: 'Google failed authentication' }),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", []),\n    __metadata(\"design:returntype\", Promise)\n], AuthController.prototype, \"googleFail\", null);\n__decorate([\n    common_1.Put('changePassword'),\n    common_1.UseGuards(passport_1.AuthGuard('jwt')),\n    swagger_1.ApiBearerAuth(),\n    swagger_1.ApiOperation({ title: 'Create new password' }),\n    __param(0, user_decorator_1.ReqUser()), __param(1, common_1.Body()),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [user_entity_1.User, change_password_dto_1.ChangePasswordDto]),\n    __metadata(\"design:returntype\", Promise)\n], AuthController.prototype, \"changePassword\", null);\n__decorate([\n    common_1.Get('verifyEmail'),\n    common_1.HttpCode(common_1.HttpStatus.ACCEPTED),\n    common_1.UseGuards(passport_1.AuthGuard('jwt')),\n    swagger_1.ApiBearerAuth(),\n    swagger_1.ApiOperation({ title: 'Verify your email' }),\n    __param(0, user_decorator_1.ReqUser()),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [user_entity_1.User]),\n    __metadata(\"design:returntype\", Promise)\n], AuthController.prototype, \"verifyEmail\", null);\n__decorate([\n    common_1.Post('resetPassword'),\n    common_1.HttpCode(common_1.HttpStatus.ACCEPTED),\n    swagger_1.ApiOperation({ title: 'Reset password' }),\n    __param(0, common_1.Body()),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [reset_password_dto_1.ResetPasswordDto]),\n    __metadata(\"design:returntype\", Promise)\n], AuthController.prototype, \"resetPassword\", null);\nAuthController = __decorate([\n    common_1.Controller('auth'),\n    swagger_1.ApiUseTags('Auth'),\n    __metadata(\"design:paramtypes\", [users_service_1.UsersService,\n        hash_service_1.HashService,\n        auth_service_1.AuthService])\n], AuthController);\nexports.AuthController = AuthController;\n\n\n//# sourceURL=webpack:///./src/components/auth/auth.controller.ts?");

/***/ }),

/***/ "./src/components/auth/auth.service.ts":
/*!*********************************************!*\
  !*** ./src/components/auth/auth.service.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst common_1 = __webpack_require__(/*! @nestjs/common */ \"@nestjs/common\");\nconst jwt_1 = __webpack_require__(/*! @nestjs/jwt */ \"@nestjs/jwt\");\nconst users_service_1 = __webpack_require__(/*! ../users/services/users.service */ \"./src/components/users/services/users.service.ts\");\nconst config_1 = __webpack_require__(/*! ../../config */ \"./src/config/index.ts\");\nconst typeorm_1 = __webpack_require__(/*! @nestjs/typeorm */ \"@nestjs/typeorm\");\nconst RefreshToken_entity_1 = __webpack_require__(/*! ./entities/RefreshToken.entity */ \"./src/components/auth/entities/RefreshToken.entity.ts\");\nconst typeorm_2 = __webpack_require__(/*! typeorm */ \"typeorm\");\nconst messages_enum_1 = __webpack_require__(/*! ../../helpers/enums/messages.enum */ \"./src/helpers/enums/messages.enum.ts\");\nconst uid = __webpack_require__(/*! uid-safe */ \"uid-safe\");\nconst user_hashes_service_1 = __webpack_require__(/*! ../user-hashes/user-hashes.service */ \"./src/components/user-hashes/user-hashes.service.ts\");\nconst hash_types_enum_1 = __webpack_require__(/*! ../../helpers/enums/hash-types.enum */ \"./src/helpers/enums/hash-types.enum.ts\");\nconst email_sending_service_1 = __webpack_require__(/*! ../core/services/email-sending.service */ \"./src/components/core/services/email-sending.service.ts\");\nconst email_templates_service_1 = __webpack_require__(/*! ../core/services/email-templates.service */ \"./src/components/core/services/email-templates.service.ts\");\nconst template_types_enum_1 = __webpack_require__(/*! ../../helpers/enums/template-types.enum */ \"./src/helpers/enums/template-types.enum.ts\");\nconst email_titles_enum_1 = __webpack_require__(/*! ../../helpers/enums/email-titles.enum */ \"./src/helpers/enums/email-titles.enum.ts\");\nlet AuthService = class AuthService {\n    constructor(usersService, jwtService, userHashesService, emailSendingService, emailTemplatesService, refreshTokensRepository) {\n        this.usersService = usersService;\n        this.jwtService = jwtService;\n        this.userHashesService = userHashesService;\n        this.emailSendingService = emailSendingService;\n        this.emailTemplatesService = emailTemplatesService;\n        this.refreshTokensRepository = refreshTokensRepository;\n    }\n    singIn(user) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const jwtPayload = { email: user.email, id: user.id };\n            const accessToken = this.jwtService.sign(jwtPayload);\n            const refreshTokenRecord = yield this.refreshTokensRepository.findOne({ user });\n            if (refreshTokenRecord) {\n                return {\n                    accessToken,\n                    refreshToken: refreshTokenRecord.token,\n                    expiresIn: config_1.JWT_EXPIRES,\n                };\n            }\n            const refreshToken = uid.sync(30);\n            const newRefreshTokenRecord = new RefreshToken_entity_1.RefreshToken();\n            newRefreshTokenRecord.token = refreshToken;\n            newRefreshTokenRecord.user = user;\n            yield this.refreshTokensRepository.save(newRefreshTokenRecord);\n            return {\n                accessToken,\n                refreshToken,\n                expiresIn: config_1.JWT_EXPIRES,\n            };\n        });\n    }\n    validateUser(payload) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.usersService.findOneByEmail(payload.email);\n        });\n    }\n    exchangeToken(token) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const tokenRecord = yield this.refreshTokensRepository.findOne({ token }, { relations: ['user'] });\n            if (!tokenRecord) {\n                throw new common_1.NotFoundException(messages_enum_1.Messages.REFRESH_TOKEN_NOT_FOUND);\n            }\n            yield this.refreshTokensRepository.delete(tokenRecord.id);\n            return yield this.singIn(tokenRecord.user);\n        });\n    }\n    verifyEmail({ firstName, lastName, email, id }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.userHashesService.createOne(id, hash_types_enum_1.HashTypes.EMAIL_VERIFICATION);\n            const content = this.emailTemplatesService.getTemplate(template_types_enum_1.TemplateTypes.EMAIL_VERIFICATION, {\n                firstName,\n                lastName,\n            });\n            yield this.emailSendingService.sendSystemEmail(email, this.emailTemplatesService.createSubject(email_titles_enum_1.EmailTitles.EMAIL_VERIFICATION), content);\n        });\n    }\n    resetPassword({ firstName, lastName, email, id }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.userHashesService.createOne(id, hash_types_enum_1.HashTypes.RESET_PASSWORD);\n            const content = this.emailTemplatesService.getTemplate(template_types_enum_1.TemplateTypes.EMAIL_VERIFICATION, {\n                firstName,\n                lastName,\n            });\n            yield this.emailSendingService.sendSystemEmail(email, this.emailTemplatesService.createSubject(email_titles_enum_1.EmailTitles.RESET_PASSWORD), content);\n        });\n    }\n};\nAuthService = __decorate([\n    common_1.Injectable(),\n    __param(5, typeorm_1.InjectRepository(RefreshToken_entity_1.RefreshToken)),\n    __metadata(\"design:paramtypes\", [users_service_1.UsersService,\n        jwt_1.JwtService,\n        user_hashes_service_1.UserHashesService,\n        email_sending_service_1.EmailSendingService,\n        email_templates_service_1.EmailTemplatesService,\n        typeorm_2.Repository])\n], AuthService);\nexports.AuthService = AuthService;\n\n\n//# sourceURL=webpack:///./src/components/auth/auth.service.ts?");

/***/ }),

/***/ "./src/components/auth/entities/RefreshToken.entity.ts":
/*!*************************************************************!*\
  !*** ./src/components/auth/entities/RefreshToken.entity.ts ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst typeorm_1 = __webpack_require__(/*! typeorm */ \"typeorm\");\nconst user_entity_1 = __webpack_require__(/*! ../../users/user.entity */ \"./src/components/users/user.entity.ts\");\nlet RefreshToken = class RefreshToken {\n};\n__decorate([\n    typeorm_1.PrimaryGeneratedColumn(),\n    __metadata(\"design:type\", Number)\n], RefreshToken.prototype, \"id\", void 0);\n__decorate([\n    typeorm_1.Column('varchar'),\n    typeorm_1.Index(),\n    __metadata(\"design:type\", String)\n], RefreshToken.prototype, \"token\", void 0);\n__decorate([\n    typeorm_1.OneToOne(type => user_entity_1.User),\n    typeorm_1.JoinColumn(),\n    __metadata(\"design:type\", user_entity_1.User)\n], RefreshToken.prototype, \"user\", void 0);\nRefreshToken = __decorate([\n    typeorm_1.Entity()\n], RefreshToken);\nexports.RefreshToken = RefreshToken;\n\n\n//# sourceURL=webpack:///./src/components/auth/entities/RefreshToken.entity.ts?");

/***/ }),

/***/ "./src/components/auth/strategies/jwt.strategy.ts":
/*!********************************************************!*\
  !*** ./src/components/auth/strategies/jwt.strategy.ts ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst common_1 = __webpack_require__(/*! @nestjs/common */ \"@nestjs/common\");\nconst passport_1 = __webpack_require__(/*! @nestjs/passport */ \"@nestjs/passport\");\nconst passport_jwt_1 = __webpack_require__(/*! passport-jwt */ \"passport-jwt\");\nconst auth_service_1 = __webpack_require__(/*! ../auth.service */ \"./src/components/auth/auth.service.ts\");\nconst index_1 = __webpack_require__(/*! ../../../config/index */ \"./src/config/index.ts\");\nconst messages_enum_1 = __webpack_require__(/*! ../../../helpers/enums/messages.enum */ \"./src/helpers/enums/messages.enum.ts\");\nlet JwtStrategy = class JwtStrategy extends passport_1.PassportStrategy(passport_jwt_1.Strategy, 'jwt') {\n    constructor(authService) {\n        super({\n            jwtFromRequest: passport_jwt_1.ExtractJwt.fromAuthHeaderAsBearerToken(),\n            secretOrKey: index_1.JWT_SECRET,\n        });\n        this.authService = authService;\n    }\n    validate(payload) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const user = yield this.authService.validateUser(payload);\n            if (!user) {\n                throw new common_1.UnauthorizedException(messages_enum_1.Messages.INVALID_TOKEN);\n            }\n            return user;\n        });\n    }\n};\nJwtStrategy = __decorate([\n    common_1.Injectable(),\n    __metadata(\"design:paramtypes\", [auth_service_1.AuthService])\n], JwtStrategy);\nexports.JwtStrategy = JwtStrategy;\n\n\n//# sourceURL=webpack:///./src/components/auth/strategies/jwt.strategy.ts?");

/***/ }),

/***/ "./src/components/chats/chats.controller.ts":
/*!**************************************************!*\
  !*** ./src/components/chats/chats.controller.ts ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst common_1 = __webpack_require__(/*! @nestjs/common */ \"@nestjs/common\");\nconst swagger_1 = __webpack_require__(/*! @nestjs/swagger */ \"@nestjs/swagger\");\nconst passport_1 = __webpack_require__(/*! @nestjs/passport */ \"@nestjs/passport\");\nconst chats_service_1 = __webpack_require__(/*! ./chats.service */ \"./src/components/chats/chats.service.ts\");\nconst user_decorator_1 = __webpack_require__(/*! ../../helpers/decorators/user.decorator */ \"./src/helpers/decorators/user.decorator.ts\");\nconst user_entity_1 = __webpack_require__(/*! ../users/user.entity */ \"./src/components/users/user.entity.ts\");\nconst create_chat_dto_1 = __webpack_require__(/*! ./dto/create-chat.dto */ \"./src/components/chats/dto/create-chat.dto.ts\");\nlet ChatsController = class ChatsController {\n    constructor(chatsService) {\n        this.chatsService = chatsService;\n    }\n    findAll(user) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.chatsService.findMany(user.id);\n        });\n    }\n    createOne(user, payload) {\n        return __awaiter(this, void 0, void 0, function* () {\n            payload.userIds.push(user.id);\n            return yield this.chatsService.createOne(payload);\n        });\n    }\n};\n__decorate([\n    common_1.Get(),\n    swagger_1.ApiOperation({ title: 'Get list of chats for particular user' }),\n    __param(0, user_decorator_1.ReqUser()),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [user_entity_1.User]),\n    __metadata(\"design:returntype\", Promise)\n], ChatsController.prototype, \"findAll\", null);\n__decorate([\n    common_1.Post(),\n    swagger_1.ApiOperation({ title: 'Get list of chats for particular user' }),\n    __param(0, user_decorator_1.ReqUser()), __param(1, common_1.Body()),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [user_entity_1.User, create_chat_dto_1.CreateChatDto]),\n    __metadata(\"design:returntype\", Promise)\n], ChatsController.prototype, \"createOne\", null);\nChatsController = __decorate([\n    common_1.Controller('chats'),\n    common_1.UseGuards(passport_1.AuthGuard('jwt')),\n    swagger_1.ApiUseTags('Chats'),\n    swagger_1.ApiBearerAuth(),\n    __metadata(\"design:paramtypes\", [chats_service_1.ChatsService])\n], ChatsController);\nexports.ChatsController = ChatsController;\n\n\n//# sourceURL=webpack:///./src/components/chats/chats.controller.ts?");

/***/ }),

/***/ "./src/components/comments/comment.entity.ts":
/*!***************************************************!*\
  !*** ./src/components/comments/comment.entity.ts ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst typeorm_1 = __webpack_require__(/*! typeorm */ \"typeorm\");\nconst user_entity_1 = __webpack_require__(/*! ../users/user.entity */ \"./src/components/users/user.entity.ts\");\nconst base_entity_1 = __webpack_require__(/*! ../core/base.entity */ \"./src/components/core/base.entity.ts\");\nlet Comment = class Comment extends base_entity_1.BaseEntity {\n};\n__decorate([\n    typeorm_1.Column('text'),\n    __metadata(\"design:type\", String)\n], Comment.prototype, \"text\", void 0);\n__decorate([\n    typeorm_1.ManyToOne(type => user_entity_1.User),\n    typeorm_1.JoinColumn(),\n    __metadata(\"design:type\", user_entity_1.User)\n], Comment.prototype, \"author\", void 0);\nComment = __decorate([\n    typeorm_1.Entity()\n], Comment);\nexports.Comment = Comment;\n\n\n//# sourceURL=webpack:///./src/components/comments/comment.entity.ts?");

/***/ }),

/***/ "./src/components/comments/comments.service.ts":
/*!*****************************************************!*\
  !*** ./src/components/comments/comments.service.ts ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst common_1 = __webpack_require__(/*! @nestjs/common */ \"@nestjs/common\");\nconst typeorm_1 = __webpack_require__(/*! @nestjs/typeorm */ \"@nestjs/typeorm\");\nconst comment_entity_1 = __webpack_require__(/*! ./comment.entity */ \"./src/components/comments/comment.entity.ts\");\nconst typeorm_2 = __webpack_require__(/*! typeorm */ \"typeorm\");\nlet CommentsService = class CommentsService {\n    constructor(commentsRepository) {\n        this.commentsRepository = commentsRepository;\n    }\n    createOne(payload, user) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const newComment = Object.assign({}, new comment_entity_1.Comment(), payload, { author: user });\n            return yield this.commentsRepository.save(newComment);\n        });\n    }\n    updateOne(id, payload) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.commentsRepository.update(id, Object.assign({}, payload));\n            return yield this.commentsRepository.findOne(id);\n        });\n    }\n    deleteOne(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n        });\n    }\n};\nCommentsService = __decorate([\n    common_1.Injectable(),\n    __param(0, typeorm_1.InjectRepository(comment_entity_1.Comment)),\n    __metadata(\"design:paramtypes\", [typeorm_2.Repository])\n], CommentsService);\nexports.CommentsService = CommentsService;\n\n\n//# sourceURL=webpack:///./src/components/comments/comments.service.ts?");

/***/ }),

/***/ "./src/components/messages/message.entity.ts":
/*!***************************************************!*\
  !*** ./src/components/messages/message.entity.ts ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst typeorm_1 = __webpack_require__(/*! typeorm */ \"typeorm\");\nconst user_entity_1 = __webpack_require__(/*! ../users/user.entity */ \"./src/components/users/user.entity.ts\");\nconst chat_entity_1 = __webpack_require__(/*! ../chats/chat.entity */ \"./src/components/chats/chat.entity.ts\");\nlet Message = class Message {\n};\n__decorate([\n    typeorm_1.PrimaryGeneratedColumn(),\n    __metadata(\"design:type\", Number)\n], Message.prototype, \"id\", void 0);\n__decorate([\n    typeorm_1.Column('varchar'),\n    __metadata(\"design:type\", String)\n], Message.prototype, \"text\", void 0);\n__decorate([\n    typeorm_1.Column(),\n    __metadata(\"design:type\", String)\n], Message.prototype, \"createdAt\", void 0);\n__decorate([\n    typeorm_1.ManyToOne(type => user_entity_1.User, user => user.messages),\n    typeorm_1.JoinColumn(),\n    __metadata(\"design:type\", user_entity_1.User)\n], Message.prototype, \"author\", void 0);\n__decorate([\n    typeorm_1.ManyToOne(type => chat_entity_1.Chat, chat => chat.messages),\n    typeorm_1.JoinColumn(),\n    __metadata(\"design:type\", chat_entity_1.Chat)\n], Message.prototype, \"chat\", void 0);\nMessage = __decorate([\n    typeorm_1.Entity()\n], Message);\nexports.Message = Message;\n\n\n//# sourceURL=webpack:///./src/components/messages/message.entity.ts?");

/***/ }),

/***/ "./src/components/messages/messages.service.ts":
/*!*****************************************************!*\
  !*** ./src/components/messages/messages.service.ts ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst common_1 = __webpack_require__(/*! @nestjs/common */ \"@nestjs/common\");\nconst typeorm_1 = __webpack_require__(/*! @nestjs/typeorm */ \"@nestjs/typeorm\");\nconst message_entity_1 = __webpack_require__(/*! ./message.entity */ \"./src/components/messages/message.entity.ts\");\nconst typeorm_2 = __webpack_require__(/*! typeorm */ \"typeorm\");\nlet MessagesService = class MessagesService {\n    constructor(messagesRepository) {\n        this.messagesRepository = messagesRepository;\n    }\n    addMessage(payload) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const newMessage = Object.assign({}, new message_entity_1.Message(), { text: payload.text, author: { id: payload.authorId }, createdAt: new Date().toISOString() });\n            return yield this.messagesRepository.save(newMessage);\n        });\n    }\n    updateMessage(payload) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.messagesRepository.update({\n                id: payload.id,\n            }, {\n                text: payload.text,\n            });\n            return this.messagesRepository.findOne({ relations: ['author'] });\n        });\n    }\n    removeMessage(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.messagesRepository.delete({ id });\n        });\n    }\n};\nMessagesService = __decorate([\n    common_1.Injectable(),\n    __param(0, typeorm_1.InjectRepository(message_entity_1.Message)),\n    __metadata(\"design:paramtypes\", [typeorm_2.Repository])\n], MessagesService);\nexports.MessagesService = MessagesService;\n\n\n//# sourceURL=webpack:///./src/components/messages/messages.service.ts?");

/***/ }),

/***/ "./src/components/orders/order.entity.ts":
/*!***********************************************!*\
  !*** ./src/components/orders/order.entity.ts ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst typeorm_1 = __webpack_require__(/*! typeorm */ \"typeorm\");\nconst user_entity_1 = __webpack_require__(/*! ../users/user.entity */ \"./src/components/users/user.entity.ts\");\nconst product_entity_1 = __webpack_require__(/*! ../products/product.entity */ \"./src/components/products/product.entity.ts\");\nconst base_entity_1 = __webpack_require__(/*! ../core/base.entity */ \"./src/components/core/base.entity.ts\");\nlet Order = class Order extends base_entity_1.BaseEntity {\n};\n__decorate([\n    typeorm_1.ManyToOne(type => user_entity_1.User),\n    typeorm_1.JoinColumn(),\n    __metadata(\"design:type\", user_entity_1.User)\n], Order.prototype, \"user\", void 0);\n__decorate([\n    typeorm_1.ManyToMany(type => product_entity_1.Product, product => product.orders),\n    __metadata(\"design:type\", Array)\n], Order.prototype, \"products\", void 0);\n__decorate([\n    typeorm_1.Column(),\n    __metadata(\"design:type\", Number)\n], Order.prototype, \"totalPrice\", void 0);\n__decorate([\n    typeorm_1.Column(),\n    __metadata(\"design:type\", Number)\n], Order.prototype, \"totalCount\", void 0);\nOrder = __decorate([\n    typeorm_1.Entity()\n], Order);\nexports.Order = Order;\n\n\n//# sourceURL=webpack:///./src/components/orders/order.entity.ts?");

/***/ }),

/***/ "./src/components/products/product.entity.ts":
/*!***************************************************!*\
  !*** ./src/components/products/product.entity.ts ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst typeorm_1 = __webpack_require__(/*! typeorm */ \"typeorm\");\nconst user_entity_1 = __webpack_require__(/*! ../users/user.entity */ \"./src/components/users/user.entity.ts\");\nconst file_entity_1 = __webpack_require__(/*! ../files/file.entity */ \"./src/components/files/file.entity.ts\");\nconst order_entity_1 = __webpack_require__(/*! ../orders/order.entity */ \"./src/components/orders/order.entity.ts\");\nconst base_entity_1 = __webpack_require__(/*! ../core/base.entity */ \"./src/components/core/base.entity.ts\");\nlet Product = class Product extends base_entity_1.BaseEntity {\n};\n__decorate([\n    typeorm_1.Column('varchar'),\n    __metadata(\"design:type\", String)\n], Product.prototype, \"title\", void 0);\n__decorate([\n    typeorm_1.Column({ type: 'text', nullable: true }),\n    __metadata(\"design:type\", String)\n], Product.prototype, \"description\", void 0);\n__decorate([\n    typeorm_1.ManyToOne(type => user_entity_1.User, user => user.products),\n    typeorm_1.JoinColumn(),\n    __metadata(\"design:type\", user_entity_1.User)\n], Product.prototype, \"seller\", void 0);\n__decorate([\n    typeorm_1.OneToOne(type => file_entity_1.File),\n    typeorm_1.JoinColumn(),\n    __metadata(\"design:type\", file_entity_1.File)\n], Product.prototype, \"mainImage\", void 0);\n__decorate([\n    typeorm_1.OneToMany(type => file_entity_1.File, image => image.product),\n    __metadata(\"design:type\", Array)\n], Product.prototype, \"images\", void 0);\n__decorate([\n    typeorm_1.Column(),\n    __metadata(\"design:type\", Number)\n], Product.prototype, \"quantity\", void 0);\n__decorate([\n    typeorm_1.Column(),\n    __metadata(\"design:type\", Number)\n], Product.prototype, \"price\", void 0);\n__decorate([\n    typeorm_1.ManyToMany(type => order_entity_1.Order, order => order.products),\n    __metadata(\"design:type\", Array)\n], Product.prototype, \"orders\", void 0);\nProduct = __decorate([\n    typeorm_1.Entity()\n], Product);\nexports.Product = Product;\n\n\n//# sourceURL=webpack:///./src/components/products/product.entity.ts?");

/***/ }),

/***/ "./src/components/products/products.controller.ts":
/*!********************************************************!*\
  !*** ./src/components/products/products.controller.ts ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst common_1 = __webpack_require__(/*! @nestjs/common */ \"@nestjs/common\");\nconst swagger_1 = __webpack_require__(/*! @nestjs/swagger */ \"@nestjs/swagger\");\nconst create_product_dto_1 = __webpack_require__(/*! ./dto/create-product.dto */ \"./src/components/products/dto/create-product.dto.ts\");\nconst passport_1 = __webpack_require__(/*! @nestjs/passport */ \"@nestjs/passport\");\nconst products_service_1 = __webpack_require__(/*! ./products.service */ \"./src/components/products/products.service.ts\");\nconst files_service_1 = __webpack_require__(/*! ../files/files.service */ \"./src/components/files/files.service.ts\");\nconst messages_enum_1 = __webpack_require__(/*! ../../helpers/enums/messages.enum */ \"./src/helpers/enums/messages.enum.ts\");\nconst user_decorator_1 = __webpack_require__(/*! ../../helpers/decorators/user.decorator */ \"./src/helpers/decorators/user.decorator.ts\");\nconst user_entity_1 = __webpack_require__(/*! ../users/user.entity */ \"./src/components/users/user.entity.ts\");\nconst create_comment_dto_1 = __webpack_require__(/*! ../comments/dto/create-comment.dto */ \"./src/components/comments/dto/create-comment.dto.ts\");\nconst comments_service_1 = __webpack_require__(/*! ../comments/comments.service */ \"./src/components/comments/comments.service.ts\");\nconst update_product_dto_1 = __webpack_require__(/*! ./dto/update-product.dto */ \"./src/components/products/dto/update-product.dto.ts\");\nlet ProductsController = class ProductsController {\n    constructor(productsService, commentsService, filesService) {\n        this.productsService = productsService;\n        this.commentsService = commentsService;\n        this.filesService = filesService;\n    }\n    createOne(payload, user) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const mainImage = yield this.filesService.findOne(payload.mainImageId);\n            if (!mainImage) {\n                throw new common_1.NotFoundException(messages_enum_1.Messages.FILE_NOT_FOUND);\n            }\n            const productData = Object.assign({}, payload, { mainImage });\n            return yield this.productsService.createOne(productData, user);\n        });\n    }\n    updateOne(id, payload) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.productsService.updateOne(id, payload);\n        });\n    }\n    createProductComment(productId, payload, user) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const product = yield this.productsService.findOne(productId, {});\n            if (!product) {\n                throw new common_1.NotFoundException(messages_enum_1.Messages.PRODUCT_NOT_FOUND);\n            }\n            yield this.commentsService.createOne(payload, user);\n            return yield this.productsService.findOne(productId, { includeComments: true });\n        });\n    }\n    updateProductComment(productId, commentId, user) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const product = yield this.productsService.findOne(productId, {});\n            if (!product || product.seller.id !== user.id) {\n                throw new common_1.ForbiddenException(messages_enum_1.Messages.INVALID_RIGHTS_TO_DELETE_COMMENT);\n            }\n            yield this.commentsService.deleteOne(commentId);\n            return yield this.productsService.findOne(productId, { includeComments: true });\n        });\n    }\n    deleteOne(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.productsService.deleteOne(id);\n        });\n    }\n};\n__decorate([\n    common_1.Post(),\n    swagger_1.ApiOperation({ title: 'Create new product' }),\n    __param(0, common_1.Body()), __param(1, user_decorator_1.ReqUser()),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [create_product_dto_1.CreateProductDto, user_entity_1.User]),\n    __metadata(\"design:returntype\", Promise)\n], ProductsController.prototype, \"createOne\", null);\n__decorate([\n    common_1.Put(':id'),\n    swagger_1.ApiOperation({ title: 'Update existing product by id' }),\n    __param(0, common_1.Param('id')), __param(1, common_1.Body()),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [Number, update_product_dto_1.UpdateProductDto]),\n    __metadata(\"design:returntype\", Promise)\n], ProductsController.prototype, \"updateOne\", null);\n__decorate([\n    common_1.Put(':productId/comments'),\n    swagger_1.ApiOperation({ title: 'Create comment for product' }),\n    __param(0, common_1.Param('productId')),\n    __param(1, common_1.Body()),\n    __param(2, user_decorator_1.ReqUser()),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [Number, create_comment_dto_1.CreateCommentDto,\n        user_entity_1.User]),\n    __metadata(\"design:returntype\", Promise)\n], ProductsController.prototype, \"createProductComment\", null);\n__decorate([\n    common_1.Delete(':productId/comments/:commentId'),\n    swagger_1.ApiOperation({ title: 'Delete comment', description: 'It can be done only by seller of product' }),\n    __param(0, common_1.Param('productId')),\n    __param(1, common_1.Param('commentId')),\n    __param(2, user_decorator_1.ReqUser()),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [Number, Number, user_entity_1.User]),\n    __metadata(\"design:returntype\", Promise)\n], ProductsController.prototype, \"updateProductComment\", null);\n__decorate([\n    common_1.Delete(':id'),\n    __param(0, common_1.Param('id')),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [Number]),\n    __metadata(\"design:returntype\", Promise)\n], ProductsController.prototype, \"deleteOne\", null);\nProductsController = __decorate([\n    common_1.Controller('products'),\n    common_1.UseGuards(passport_1.AuthGuard('jwt')),\n    swagger_1.ApiUseTags('Products'),\n    swagger_1.ApiBearerAuth(),\n    __metadata(\"design:paramtypes\", [products_service_1.ProductsService,\n        comments_service_1.CommentsService,\n        files_service_1.FilesService])\n], ProductsController);\nexports.ProductsController = ProductsController;\n\n\n//# sourceURL=webpack:///./src/components/products/products.controller.ts?");

/***/ }),

/***/ "./src/components/products/products.service.ts":
/*!*****************************************************!*\
  !*** ./src/components/products/products.service.ts ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst common_1 = __webpack_require__(/*! @nestjs/common */ \"@nestjs/common\");\nconst typeorm_1 = __webpack_require__(/*! @nestjs/typeorm */ \"@nestjs/typeorm\");\nconst product_entity_1 = __webpack_require__(/*! ./product.entity */ \"./src/components/products/product.entity.ts\");\nconst typeorm_2 = __webpack_require__(/*! typeorm */ \"typeorm\");\nlet ProductsService = class ProductsService {\n    constructor(productsRepository) {\n        this.productsRepository = productsRepository;\n    }\n    findMany(query) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.productsRepository.find();\n        });\n    }\n    findOne(id, query) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.productsRepository.findOne(id);\n        });\n    }\n    createOne(payload, user) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { mainImageId } = payload, data = __rest(payload, [\"mainImageId\"]);\n            const newProduct = Object.assign({}, new product_entity_1.Product(), data, { seller: user });\n            return yield this.productsRepository.save(newProduct);\n        });\n    }\n    updateOne(id, payload) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.productsRepository.update(id, payload);\n            return yield this.productsRepository.findOne(id, {\n                relations: ['mainImage', 'images'],\n            });\n        });\n    }\n    deleteOne(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.productsRepository.delete(id);\n        });\n    }\n};\nProductsService = __decorate([\n    common_1.Injectable(),\n    __param(0, typeorm_1.InjectRepository(product_entity_1.Product)),\n    __metadata(\"design:paramtypes\", [typeorm_2.Repository])\n], ProductsService);\nexports.ProductsService = ProductsService;\n\n\n//# sourceURL=webpack:///./src/components/products/products.service.ts?");

/***/ }),

/***/ "./src/components/users/entities/user-role.entity.ts":
/*!***********************************************************!*\
  !*** ./src/components/users/entities/user-role.entity.ts ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__webpack_require__(/*! reflect-metadata */ \"reflect-metadata\");\nconst typeorm_1 = __webpack_require__(/*! typeorm */ \"typeorm\");\nconst user_entity_1 = __webpack_require__(/*! ../user.entity */ \"./src/components/users/user.entity.ts\");\nlet UserRole = class UserRole {\n};\n__decorate([\n    typeorm_1.PrimaryGeneratedColumn(),\n    __metadata(\"design:type\", Number)\n], UserRole.prototype, \"id\", void 0);\n__decorate([\n    typeorm_1.OneToMany(type => user_entity_1.User, user => user.role),\n    __metadata(\"design:type\", user_entity_1.User)\n], UserRole.prototype, \"user\", void 0);\n__decorate([\n    typeorm_1.Column('varchar'),\n    __metadata(\"design:type\", String)\n], UserRole.prototype, \"name\", void 0);\nUserRole = __decorate([\n    typeorm_1.Entity()\n], UserRole);\nexports.UserRole = UserRole;\n\n\n//# sourceURL=webpack:///./src/components/users/entities/user-role.entity.ts?");

/***/ }),

/***/ "./src/components/users/services/users.service.ts":
/*!********************************************************!*\
  !*** ./src/components/users/services/users.service.ts ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst common_1 = __webpack_require__(/*! @nestjs/common */ \"@nestjs/common\");\nconst user_entity_1 = __webpack_require__(/*! ../user.entity */ \"./src/components/users/user.entity.ts\");\nconst typeorm_1 = __webpack_require__(/*! @nestjs/typeorm */ \"@nestjs/typeorm\");\nconst typeorm_2 = __webpack_require__(/*! typeorm */ \"typeorm\");\nconst hash_service_1 = __webpack_require__(/*! ../../core/services/hash.service */ \"./src/components/core/services/hash.service.ts\");\nconst roles_enum_1 = __webpack_require__(/*! ../../../helpers/enums/roles.enum */ \"./src/helpers/enums/roles.enum.ts\");\nconst messages_enum_1 = __webpack_require__(/*! ../../../helpers/enums/messages.enum */ \"./src/helpers/enums/messages.enum.ts\");\nlet UsersService = class UsersService {\n    constructor(usersRepository, hashService) {\n        this.usersRepository = usersRepository;\n        this.hashService = hashService;\n    }\n    findMany(payload) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const queryBuilder = this.prepareBuilder(this.usersRepository.createQueryBuilder('user'), payload);\n            return yield queryBuilder.getMany();\n        });\n    }\n    prepareBuilder(queryBuilder, query) {\n        if (query.ageFrom) {\n            queryBuilder.where('age > :ageFrom', { ageFrom: query.ageFrom });\n        }\n        if (query.ageTo) {\n            queryBuilder.where('age < :ageTo', { ageTo: query.ageTo });\n        }\n        if (query.onlySellers) {\n            queryBuilder.where('roleId = :roleId', { roleId: roles_enum_1.Roles.BUYER });\n        }\n        return queryBuilder;\n    }\n    findManyWithPagination(payload) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const skip = (payload.page - 1) * payload.limit;\n            const queryBuilder = this.prepareBuilder(this.usersRepository.createQueryBuilder('user'), payload);\n            const totalCount = yield queryBuilder.getCount();\n            const data = yield queryBuilder.skip(skip).take(payload.limit).getMany();\n            return {\n                page: payload.page,\n                itemsPerPage: payload.limit,\n                totalCount,\n                data,\n            };\n        });\n    }\n    findOne(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const user = yield this.usersRepository.findOne(id);\n            if (!user) {\n                throw new common_1.NotFoundException(messages_enum_1.Messages.USER_NOT_FOUND);\n            }\n            return user;\n        });\n    }\n    findOneByEmail(email, includePassword = false) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const query = this.usersRepository.createQueryBuilder('user')\n                .where('email = :email', { email });\n            if (includePassword) {\n                query.addSelect('user.password');\n            }\n            return yield query.getOne();\n        });\n    }\n    findOneByGoogleId(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.usersRepository.findOne({ googleId: id });\n        });\n    }\n    createOne(payload) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const passwordHash = yield this.hashService.generateHash(payload.password);\n            const newUser = Object.assign({}, new user_entity_1.User(), payload, { password: passwordHash });\n            return yield this.usersRepository.save(newUser);\n        });\n    }\n    createByGoogle(payload) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const newUser = Object.assign({}, new user_entity_1.User(), payload);\n            return yield this.usersRepository.save(newUser);\n        });\n    }\n    updateOne(id, payload) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.usersRepository.update({ id }, payload);\n            return yield this.usersRepository.findOne(id);\n        });\n    }\n    deleteOne(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.usersRepository.delete({ id });\n        });\n    }\n};\nUsersService = __decorate([\n    common_1.Injectable(),\n    __param(0, typeorm_1.InjectRepository(user_entity_1.User)),\n    __metadata(\"design:paramtypes\", [typeorm_2.Repository,\n        hash_service_1.HashService])\n], UsersService);\nexports.UsersService = UsersService;\n\n\n//# sourceURL=webpack:///./src/components/users/services/users.service.ts?");

/***/ }),

/***/ "./src/components/users/user.entity.ts":
/*!*********************************************!*\
  !*** ./src/components/users/user.entity.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst typeorm_1 = __webpack_require__(/*! typeorm */ \"typeorm\");\nconst user_role_entity_1 = __webpack_require__(/*! ./entities/user-role.entity */ \"./src/components/users/entities/user-role.entity.ts\");\nconst product_entity_1 = __webpack_require__(/*! ../products/product.entity */ \"./src/components/products/product.entity.ts\");\nconst base_entity_1 = __webpack_require__(/*! ../core/base.entity */ \"./src/components/core/base.entity.ts\");\nconst chat_entity_1 = __webpack_require__(/*! ../chats/chat.entity */ \"./src/components/chats/chat.entity.ts\");\nlet User = class User extends base_entity_1.BaseEntity {\n};\n__decorate([\n    typeorm_1.Column({ type: 'varchar' }),\n    __metadata(\"design:type\", String)\n], User.prototype, \"firstName\", void 0);\n__decorate([\n    typeorm_1.Column({ type: 'varchar' }),\n    __metadata(\"design:type\", String)\n], User.prototype, \"lastName\", void 0);\n__decorate([\n    typeorm_1.Column({ nullable: true }),\n    __metadata(\"design:type\", Number)\n], User.prototype, \"age\", void 0);\n__decorate([\n    typeorm_1.Column(),\n    typeorm_1.Index(),\n    __metadata(\"design:type\", String)\n], User.prototype, \"email\", void 0);\n__decorate([\n    typeorm_1.Column({ nullable: true }),\n    __metadata(\"design:type\", String)\n], User.prototype, \"password\", void 0);\n__decorate([\n    typeorm_1.ManyToOne(type => user_role_entity_1.UserRole),\n    typeorm_1.JoinColumn(),\n    __metadata(\"design:type\", user_role_entity_1.UserRole)\n], User.prototype, \"role\", void 0);\n__decorate([\n    typeorm_1.OneToMany(type => product_entity_1.Product, product => product.seller),\n    __metadata(\"design:type\", Array)\n], User.prototype, \"products\", void 0);\n__decorate([\n    typeorm_1.Column({ nullable: true }),\n    __metadata(\"design:type\", String)\n], User.prototype, \"googleId\", void 0);\n__decorate([\n    typeorm_1.Column({ type: 'boolean', default: false }),\n    __metadata(\"design:type\", Boolean)\n], User.prototype, \"emailVerified\", void 0);\n__decorate([\n    typeorm_1.Column({ type: 'boolean', default: false }),\n    __metadata(\"design:type\", Boolean)\n], User.prototype, \"phoneVerified\", void 0);\n__decorate([\n    typeorm_1.ManyToMany(type => chat_entity_1.Chat, chat => chat.users),\n    __metadata(\"design:type\", Array)\n], User.prototype, \"chats\", void 0);\nUser = __decorate([\n    typeorm_1.Entity()\n], User);\nexports.User = User;\n\n\n//# sourceURL=webpack:///./src/components/users/user.entity.ts?");

/***/ }),

/***/ "./src/components/users/users.controller.ts":
/*!**************************************************!*\
  !*** ./src/components/users/users.controller.ts ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst common_1 = __webpack_require__(/*! @nestjs/common */ \"@nestjs/common\");\nconst swagger_1 = __webpack_require__(/*! @nestjs/swagger */ \"@nestjs/swagger\");\nconst create_user_dto_1 = __webpack_require__(/*! ./dto/create-user.dto */ \"./src/components/users/dto/create-user.dto.ts\");\nconst users_service_1 = __webpack_require__(/*! ./services/users.service */ \"./src/components/users/services/users.service.ts\");\nconst messages_enum_1 = __webpack_require__(/*! ../../helpers/enums/messages.enum */ \"./src/helpers/enums/messages.enum.ts\");\nconst passport_1 = __webpack_require__(/*! @nestjs/passport */ \"@nestjs/passport\");\nconst find_users_list_dto_1 = __webpack_require__(/*! ./dto/find-users-list.dto */ \"./src/components/users/dto/find-users-list.dto.ts\");\nconst update_user_dto_1 = __webpack_require__(/*! ./dto/update-user.dto */ \"./src/components/users/dto/update-user.dto.ts\");\nconst user_decorator_1 = __webpack_require__(/*! ../../helpers/decorators/user.decorator */ \"./src/helpers/decorators/user.decorator.ts\");\nconst user_entity_1 = __webpack_require__(/*! ./user.entity */ \"./src/components/users/user.entity.ts\");\nlet UsersController = class UsersController {\n    constructor(usersService) {\n        this.usersService = usersService;\n    }\n    findMany(query) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (query.page && query.limit) {\n                return yield this.usersService.findManyWithPagination(query);\n            }\n            return yield this.usersService.findMany(query);\n        });\n    }\n    findOne(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.usersService.findOne(id);\n        });\n    }\n    create(payload) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const user = yield this.usersService.findOneByEmail(payload.email);\n            if (user) {\n                throw new common_1.BadRequestException(messages_enum_1.Messages.USER_ALREADY_EXISTS);\n            }\n            return yield this.usersService.createOne(payload);\n        });\n    }\n    updateProfile(payload, user) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.usersService.updateOne(user.id, payload);\n        });\n    }\n    deleteUser(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.usersService.deleteOne(id);\n        });\n    }\n};\n__decorate([\n    common_1.Get(),\n    common_1.UseGuards(passport_1.AuthGuard('jwt')),\n    swagger_1.ApiOperation({ title: 'Fetch list of users' }),\n    __param(0, common_1.Query()),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [find_users_list_dto_1.FindUsersListDto]),\n    __metadata(\"design:returntype\", Promise)\n], UsersController.prototype, \"findMany\", null);\n__decorate([\n    common_1.Get(':id'),\n    common_1.UseGuards(passport_1.AuthGuard('jwt')),\n    swagger_1.ApiOperation({ title: 'Get particular user by id' }),\n    __param(0, common_1.Param('id')),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [Number]),\n    __metadata(\"design:returntype\", Promise)\n], UsersController.prototype, \"findOne\", null);\n__decorate([\n    common_1.Post(),\n    swagger_1.ApiOperation({ title: 'Creating new user' }),\n    __param(0, common_1.Body()),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [create_user_dto_1.CreateUserDto]),\n    __metadata(\"design:returntype\", Promise)\n], UsersController.prototype, \"create\", null);\n__decorate([\n    common_1.Put('me'),\n    common_1.UseGuards(passport_1.AuthGuard('jwt')),\n    swagger_1.ApiBearerAuth(),\n    swagger_1.ApiOperation({ title: 'Update your profile' }),\n    __param(0, common_1.Body()), __param(1, user_decorator_1.ReqUser()),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [update_user_dto_1.UpdateUserDto, user_entity_1.User]),\n    __metadata(\"design:returntype\", Promise)\n], UsersController.prototype, \"updateProfile\", null);\n__decorate([\n    common_1.Delete(':id'),\n    common_1.UseGuards(passport_1.AuthGuard('jwt')),\n    swagger_1.ApiBearerAuth(),\n    swagger_1.ApiOperation({ title: 'Delete user by id' }),\n    __param(0, common_1.Param('id')),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [Number]),\n    __metadata(\"design:returntype\", Promise)\n], UsersController.prototype, \"deleteUser\", null);\nUsersController = __decorate([\n    common_1.Controller('users'),\n    __metadata(\"design:paramtypes\", [users_service_1.UsersService])\n], UsersController);\nexports.UsersController = UsersController;\n\n\n//# sourceURL=webpack:///./src/components/users/users.controller.ts?");

/***/ }),

/***/ "./src/components/users/users.module.ts":
/*!**********************************************!*\
  !*** ./src/components/users/users.module.ts ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst common_1 = __webpack_require__(/*! @nestjs/common */ \"@nestjs/common\");\nconst core_module_1 = __webpack_require__(/*! ../core/core.module */ \"./src/components/core/core.module.ts\");\nconst user_role_entity_1 = __webpack_require__(/*! ./entities/user-role.entity */ \"./src/components/users/entities/user-role.entity.ts\");\nconst user_entity_1 = __webpack_require__(/*! ./user.entity */ \"./src/components/users/user.entity.ts\");\nconst users_service_1 = __webpack_require__(/*! ./services/users.service */ \"./src/components/users/services/users.service.ts\");\nconst users_controller_1 = __webpack_require__(/*! ./users.controller */ \"./src/components/users/users.controller.ts\");\nconst typeorm_1 = __webpack_require__(/*! @nestjs/typeorm */ \"@nestjs/typeorm\");\nlet UsersModule = class UsersModule {\n};\nUsersModule = __decorate([\n    common_1.Module({\n        imports: [\n            core_module_1.CoreModule,\n            typeorm_1.TypeOrmModule.forFeature([user_entity_1.User, user_role_entity_1.UserRole]),\n        ],\n        exports: [users_service_1.UsersService],\n        controllers: [users_controller_1.UsersController],\n        providers: [users_service_1.UsersService],\n    })\n], UsersModule);\nexports.UsersModule = UsersModule;\n\n\n//# sourceURL=webpack:///./src/components/users/users.module.ts?");

/***/ })

};